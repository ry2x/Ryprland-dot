#  ┓ ┏┳┳┓┳┓┏┓┓ ┏  ┳┓┳┳┓ ┏┓┏┓
#  ┃┃┃┃┃┃┃┃┃┃┃┃┃  ┣┫┃┃┃ ┣ ┗┓
#  ┗┻┛┻┛┗┻┛┗┛┗┻┛  ┛┗┗┛┗┛┗┛┗┛
#

$&=override

#----------prevent sleep while fullscreen----------#
#--------------------------------------------------#
windowrule = idle_inhibit fullscreen, match:class .*
windowrule = suppress_event maximize, match:class .*

#----------floating settings----------#
#-------------------------------------#
windowrule = float on, match:tag floating

# center_floating
windowrule = float on, match:tag center_floating
windowrule = center on, match:tag center_floating

# right_top_floating
windowrule = float on, match:tag right_top_floating
windowrule = move (monitor_w-window_w-9) 60, match:tag right_top_floating
windowrule = animation slide top, match:tag right_top_floating

#----------size settings----------#
#---------------------------------#
# big_size
windowrule = size (monitor_w/2) (monitor_h*0.8), match:tag big_size

# half_size
windowrule = size (monitor_w/2) (monitor_h/2), match:tag half_size

# minimal_size
windowrule = size (monitor_w/3) (monitor_h/2), match:tag minimal_size

#----------floating windows----------#
#------------------------------------#
windowrule = tag +center_floating, tag +minimal_size, match:class ^(nwg-look)$
windowrule = tag +center_floating, tag +minimal_size, match:class ^(waypaper)$
windowrule = tag +center_floating, tag +half_size, match:class ^(kvantummanager)$
windowrule = tag +center_floating, tag +half_size, match:class ^(qt5ct)$
windowrule = tag +center_floating, tag +half_size, match:class ^(qt6ct)$
windowrule = tag +center_floating, tag +minimal_size, match:class ^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = tag +center_floating, tag +half_size, match:title ^(HyprBind.*)$

# temp terminals
windowrule = tag +center_floating, tag +big_size, match:title ^(PacUpdate)$
windowrule = tag +center_floating, tag +half_size, match:title ^(yazi)$
windowrule = tag +center_floating, tag +half_size, match:title ^(TempTerminal)$

# file dialogs
windowrule = tag +center_floating, tag +big_size, match:class ^(org.gnome.FileRoller)$
windowrule = tag +center_floating, tag +big_size, match:initial_title ^(Open File)$
windowrule = tag +center_floating, tag +big_size, match:title ^(Choose Files)$
windowrule = tag +center_floating, tag +big_size, match:title ^(Save As)$
windowrule = tag +center_floating, tag +big_size, match:title ^(Confirm to replace files)$
windowrule = tag +center_floating, tag +big_size, match:title ^(File Operation Progress)$
windowrule = tag +center_floating, tag +big_size, match:class ^(xdg-desktop-portal-gtk)$
windowrule = tag +center_floating, tag +big_size, match:title ^(Rename.*)$

# megasysnc
windowrule = tag +right_top_floating, match:class ^(nz.co.mega.megasync)$
windowrule = size 402 564, match:class ^(nz.co.mega.megasync)$ # megasync main window size
windowrule = tag -right_top_floating, tag +center_floating,match:class ^(nz.co.mega.megasync)$, match:initial_title ^(Settings)$

# pluseaudio volume control
windowrule = tag +right_top_floating, tag +minimal_size, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = pin on, match:class ^(org.pulseaudio.pavucontrol)$

# blueman manager
windowrule = tag +right_top_floating, tag +minimal_size, match:class ^(blueman-manager)$
windowrule = pin on, match:class ^(blueman-manager)$

# xdg-desktop-portal dialogs
windowrule = tag +center_floating, tag +big_size, match:class ^(xdg-desktop-portal-gtk)$
windowrule = tag +center_floating, tag +big_size, match:class ^(xdg-desktop-portal-kde)$

# kitty nmtui
windowrule = tag +right_top_floating, tag +half_size, match:title ^(KittyNmtui)$
windowrule = pin on, match:title ^(KittyNmtui)$

# network manager gui
windowrule = tag +right_top_floating, tag +minimal_size, match:class ^(com.network.manager)$
windowrule = pin on, match:class ^(com.network.manager)$

# calculator
windowrule = tag +center_floating, match:class ^(org.gnome.Calculator)$
windowrule = size 360 616, match:class ^(org.gnome.Calculator)$

# hyprland-share-picker
windowrule = tag +center_floating, tag +minimal_size, match:class ^(hyprland-share-picker)$

#----------browser picture in picture----------#
#----------------------------------------------#
# for chrome based browsers
windowrule = float on, match:class ^()$, match:title ^(Picture in picture)$
windowrule = pin on, match:class ^()$, match:title ^(Picture in picture)$
windowrule = size 520 320, match:class ^()$, match:title ^(Picture in picture)$
windowrule = move (monitor_w-window_w-10) (monitor_h-window_h-10), match:class ^()$, match:title ^(Picture in picture)$

# for firefox based browsers
windowrule = float on, match:class ^()$, match:title ^(Picture-in-picture)$
windowrule = pin on, match:class ^()$, match:title ^(Picture-in-picture)$
windowrule = size 520 320, match:class ^()$, match:title ^(Picture-in-picture)$
windowrule = move (monitor_w-window_w-10) (monitor_h-window_h-10), match:class ^()$, match:title ^(Picture-in-picture)$

#----------xwaylandvideobridge----------#
#---------------------------------------#
windowrule = opacity 0.0 override 0.0 override, match:class ^(xwaylandvideobridge)$
windowrule = no_anim on, match:class ^(xwaylandvideobridge)$
windowrule = no_initial_focus on, match:class ^(xwaylandvideobridge)$
windowrule = max_size 1 1, match:class ^(xwaylandvideobridge)$
windowrule = no_blur on, match:class ^(xwaylandvideobridge)$

#----------Waydroid----------#
#----------------------------#
windowrule = tag +center_floating, match:class ^([Ww]aydroid.*)$
windowrule = size 450 900, match:class ^([Ww]aydroid.*)$
windowrule = workspace special:magic silent, match:class ^(waydroid.InputMethod)$

#----------Games----------#
#-------------------------#
windowrule = immediate on, match:class ^(steam_app.*)$

#  ┓ ┏┓┓┏┏┓┳┓  ┳┓┳┳┓ ┏┓┏┓
#  ┃ ┣┫┗┫┣ ┣┫  ┣┫┃┃┃ ┣ ┗┓
#  ┗┛┛┗┗┛┗┛┛┗  ┛┗┗┛┗┛┗┛┗┛
#

#----------waybar----------#
#--------------------------#
layerrule = blur on, match:namespace waybar
layerrule = ignore_alpha 0.5, match:namespace waybar

#----------swaync----------#
#--------------------------#
layerrule = blur on, match:namespace swaync-control-center
layerrule = blur on, match:namespace swaync-notification-window
layerrule = blur on, match:namespace notifications
layerrule = ignore_alpha 0.5, match:namespace swaync-control-center
layerrule = ignore_alpha 0.5, match:namespace swaync-notification-window

#----------Rofi----------#
#------------------------#
layerrule = blur on, match:namespace rofi
layerrule = ignore_alpha 0.5, match:namespace rofi

#----------wlogout----------#
#---------------------------#
layerrule = blur on, match:namespace logout_dialog

#----------xray----------#
#------------------------#
layerrule = xray 1, match:namespace .*

# ┏┓┳┏┓┏┓  ┏┳┏┓┏┳┓┳┓┳┓┏┓┳┳┓┏┓
# ┣ ┃ ┃┃    ┃┣  ┃ ┣┫┣┫┣┫┃┃┃┗┓
# ┻ ┻┗┛┗┛  ┗┛┗┛ ┻ ┻┛┛┗┛┗┻┛┗┗┛
#

# Fix Hyprland's default rules for JetBrains IDEs
windowrule = tag +jb, match:class ^(jetbrains.*)$
windowrule = stay_focused off, match:tag jb
windowrule = no_initial_focus on, match:tag jb
# fix tooltips (always have a title of `win.<id>`)
windowrule = no_initial_focus on, match:class ^(.*jetbrains.*)$, match:title ^(win.*)$
windowrule = no_focus on, match:class ^(.*jetbrains.*)$, match:title ^(win.*)$
# fix tab dragging (always have a single space character as their title)
windowrule = no_initial_focus on, match:class ^(.*jetbrains.*)$, match:title ^\\s$
windowrule = no_focus on, match:class ^(.*jetbrains.*)$, match:title ^\\s$
